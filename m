Return-Path: <linux-kselftest+bounces-27753-lists+linux-kselftest=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-kselftest@lfdr.de
Delivered-To: lists+linux-kselftest@lfdr.de
Received: from am.mirrors.kernel.org (am.mirrors.kernel.org [IPv6:2604:1380:4601:e00::3])
	by mail.lfdr.de (Postfix) with ESMTPS id 7D328A48015
	for <lists+linux-kselftest@lfdr.de>; Thu, 27 Feb 2025 14:56:49 +0100 (CET)
Received: from smtp.subspace.kernel.org (relay.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by am.mirrors.kernel.org (Postfix) with ESMTPS id 51FAD1884D1A
	for <lists+linux-kselftest@lfdr.de>; Thu, 27 Feb 2025 13:56:42 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 24A97230D1E;
	Thu, 27 Feb 2025 13:56:22 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=gmx.net header.i=ps.report@gmx.net header.b="BOLAOwdr"
X-Original-To: linux-kselftest@vger.kernel.org
Received: from mout.gmx.net (mout.gmx.net [212.227.17.20])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 75B45225408;
	Thu, 27 Feb 2025 13:56:18 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=212.227.17.20
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1740664582; cv=none; b=YAZUqLxKzmwcL4IxQO15tXfwHivL+YbpuEARy2mC51XE/lveC2EXD5QqaVyiWK1nc32deaMs3FPJ5EG5e3WTOBmTabpBevllANfohrwhnojdiNNNnW41OwHEWtNk41Nqt+VRUk7QAT5AzDlx9qmSPwwiPXoPkFWbPnzcGXQ1JGk=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1740664582; c=relaxed/simple;
	bh=VTUIYxvOejiRil1eARRLJZNl0TdkdlSsBXRkQL05spc=;
	h=From:To:Cc:Subject:Date:Message-ID:In-Reply-To:References:
	 MIME-Version; b=W+TJRYxwRy3EViW8KlNhRMRoC+MtEvPd7iOjwHz3yPYCyaVgV1eC/epXc5+hisQJURyUoUjwaWEaLJ4X49DBjq7cHzCWP6x7RWIOMf8F8SrbP3Z0Th83tJq0Am5jspD1Wts9g0SDR9hfQvKlyy+9GKK/mtzK2KuKhCFf2dd+Oe8=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=gmx.net; spf=pass smtp.mailfrom=gmx.net; dkim=pass (2048-bit key) header.d=gmx.net header.i=ps.report@gmx.net header.b=BOLAOwdr; arc=none smtp.client-ip=212.227.17.20
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=quarantine dis=none) header.from=gmx.net
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=gmx.net
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmx.net;
	s=s31663417; t=1740664576; x=1741269376; i=ps.report@gmx.net;
	bh=VTUIYxvOejiRil1eARRLJZNl0TdkdlSsBXRkQL05spc=;
	h=X-UI-Sender-Class:From:To:Cc:Subject:Date:Message-ID:In-Reply-To:
	 References:MIME-Version:Content-Transfer-Encoding:cc:
	 content-transfer-encoding:content-type:date:from:message-id:
	 mime-version:reply-to:subject:to;
	b=BOLAOwdrqAzXuJuzmGkpYpvYVpk72Y01cME4NV7o2gwpfU2daEC4/vkf+k6qHCZU
	 Er6SK43UDGgYv8nzjMNAoGs36uPig9QtJklqMo6Rl3x4pGInKLOz2xBFXosHsS8RS
	 3sUsJRh5e2ne6+/CZfGErS4F0YiXzosPPM483iR0Q3EE6d1Kne7znWqXBP2yUWfSe
	 jltf4b4CreXMwv/oKh6VlB4xLLiJ/SPeaIDPTQKFr1e0QOyIprjB8QbqKuMtb5TBQ
	 ydC2dv3rMvQITEfGnFqd7EyQjty4qx7kXyXjDzE1julZ2vLGtcLuGUI0/htC19hBY
	 lIirboq7JeWZCEWAww==
X-UI-Sender-Class: 724b4f7f-cbec-4199-ad4e-598c01a50d3a
Received: from localhost.fritz.box ([82.135.81.151]) by mail.gmx.net (mrgmx105
 [212.227.17.168]) with ESMTPSA (Nemesis) id 1N3bSt-1t6VgR1pCt-00w72I; Thu, 27
 Feb 2025 14:56:16 +0100
From: Peter Seiderer <ps.report@gmx.net>
To: netdev@vger.kernel.org
Cc: linux-kernel@vger.kernel.org,
	linux-kselftest@vger.kernel.org,
	"David S . Miller" <davem@davemloft.net>,
	Eric Dumazet <edumazet@google.com>,
	Jakub Kicinski <kuba@kernel.org>,
	Paolo Abeni <pabeni@redhat.com>,
	Simon Horman <horms@kernel.org>,
	Shuah Khan <shuah@kernel.org>,
	Peter Seiderer <ps.report@gmx.net>,
	Fedor Pchelkin <pchelkin@ispras.ru>,
	Arnd Bergmann <arnd@arndb.de>,
	Nam Cao <namcao@linutronix.de>
Subject: [PATCH net-next v8 7/8] net: pktgen: remove all superfluous index assignements
Date: Thu, 27 Feb 2025 14:56:03 +0100
Message-ID: <20250227135604.40024-8-ps.report@gmx.net>
X-Mailer: git-send-email 2.48.1
In-Reply-To: <20250227135604.40024-1-ps.report@gmx.net>
References: <20250227135604.40024-1-ps.report@gmx.net>
Precedence: bulk
X-Mailing-List: linux-kselftest@vger.kernel.org
List-Id: <linux-kselftest.vger.kernel.org>
List-Subscribe: <mailto:linux-kselftest+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kselftest+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
Content-Transfer-Encoding: base64
X-Provags-ID: V03:K1:EarVIzoh0M0cjRE43xaTG/5ghkYbotQuaKH+EqBwRekpC5rDG4T
 SwNcRKssz11WRm+9KYoIya9uwWGwVv4xtKgznv72pUGIqOsMprRjYNIX0lekXQABiCGDMQh
 2SK6eUUL1HkAWyQus7Da5ShNR/Q+m1XfewgkDRX0tx7A8RGTnJ9fKaNsVYcD0FunCOitTCE
 kXW7557QZwLYQECIFTxtQ==
X-Spam-Flag: NO
UI-OutboundReport: notjunk:1;M01:P0:yK63mgyz0f8=;PvyG8qiTlng+NUd4ZliJBrwCURh
 IF8XMEIaoX5xVdvaK+xODVQW1CUyFXMTch4Lo+aTC0Vj3rUHOWOQRTcmeHKFTStwtEwN1KRGW
 0vx4G83wZEtYHmM2elXw7TPonjC8FTaDntGfLJkBMnrSqNAzSENV8EpZpFJesOKtt/zpqly82
 sw/p1BIclK8iYNiA9t+EQskgF7gx6B8qHhg11gZCDcK4+eEZ90L6uYs0xJmyidga+B52YvdP8
 LO7QxArPffBICCPTR4WFOB7jkKFsD4HOikm50s9hCUMfDBHIPHCql/99/tOOv/+4qsYmgSCbg
 eCDKc6ltcQOP6PyYLYzqJhlh1O+PzAEcgaFVbTd8O2hGa+W218PTKASK3bH4vbZlHhWHFkiKz
 n8B1fOiNHmOiIFcGMY4eFuf2k2jLu421KBQMVg87YUOzgAFmA6pB94MIUP3+9WTOlSugBciM9
 3GoRsWkQuIY9Q7dCx/kr32CE3lXU5skzD2C+gC/mVwuP2CUP6OkpHvyxgFxrTvzTdfUuUaNM1
 kXsl9FwF7VobdObzGwJuW0ZSZmZHR1qe74u9NsUeWLpvA92RA0DfWsYCEfIhRW0NoR5q6vXZq
 mpTc/AzvgMMJQgz16SMFKbgvU8ED0vS9A30dEOlZR6Ge577WqwRktYRv8J7jjFkYW8t2SQJ2Q
 XsG7ukqgUq6mjfwIWjFqlwPBw51AaQKocayVmzaLEsfX7Dkc20cwYjYB7MT1MCAqr3HlRYP9r
 hS8xPr2NntfX+tszHOLbMA5TbDcL2xenoJvhw5CbCGJarYprd5BsrvZBM9nVR0OOGZ2JbZCJi
 u2shbRWBAWI0Yb4neXGAlHB0uq1hN7Ya7DLRfC3nIsYCM+P1Ytn5qVDYWxFzOoXrdTibzkadC
 PdQfXPUqAEGQrQcqpgFBtchLeGAXqLZ1x5poB2dQPmBUnjc9sSnVRRoWCnkV+LrOAsR8ToRW7
 0ve9ij144Lob8IJqdZD/KibOpNzbdfj9OqsNM5llrNPSy8JLNyGDJElwAdAduEYgBVuYfxEKS
 yvyU4SYirMrQAwTLxVrY5FjMuy/2kkKnWJom5WCDZ2lOHY13avfEeN4K37ha7F39WVxlZahpv
 SOeZmBtS9qasjOwJc38+WAFQwP1PdBXrpScCJ6xu+fDcRNA9+B9TbGP7P4sK+kVIPNGWumVSA
 zYM7YQm8deh1TXyEz9cN0haHG6Mz+21ELlF8UMMbtdMswhvyFqw6d1wmeB5hKtl0tEKzMZ/k1
 0GXK5sboQaGpVumzEEOdcXD+In/t3k64Gdp9Ut0MsBMmTxx/RuDiv1pbiEzd700+f5/Fj+Nis
 QPj6Y/dOvZWCuMaLvvhvVyfuHzPS4I+hjR9ykeh78Z/2XxPJZ8maxZ58tusKiiTR/LIZqQu8+
 QZCjyBiBBuE1T4NmiM1MGM5vFu7+cs+Ejd3LUDm/L7Gb2A6WnwWejIl3+xaHzYTW/x/zn1DZb
 esdF+tQ==

UmVtb3ZlIGFsbCBzdXBlcmZsdW91cyBpbmRleCAoJ2kgKz0gbGVuJykgYXNzaWduZW1lbnRzICh2
YWx1ZSBub3QgdXNlZAphZnRlcndhcmRzKS4KClNpZ25lZC1vZmYtYnk6IFBldGVyIFNlaWRlcmVy
IDxwcy5yZXBvcnRAZ214Lm5ldD4KUmV2aWV3ZWQtYnk6IFNpbW9uIEhvcm1hbiA8aG9ybXNAa2Vy
bmVsLm9yZz4KLS0tCkNoYW5nZXMgdjcgLT4gdjgKICAtIHJlYmFzZWQgb24gYWN0dWFsIG5ldC1u
ZXh0L21haW4KICAtIG5vIGNoYW5nZXMKCkNoYW5nZXMgdjYgLT4gdjcKICAtIHJlYmFzZWQgb24g
YWN0dWFsIG5ldC1uZXh0L21haW4KICAtIG5vIGNoYW5nZXMKCkNoYW5nZXMgdjUgLT4gdjYKICAt
IGFkZCByZXYtYnkgU2ltb24gSG9ybWFuCgpDaGFuZ2VzIHY0IC0+IHY1CiAgLSBuZXcgcGF0Y2gg
KHN1Z2dlc3RlZCBieSBTaW1vbiBIb3JtYW4pCi0tLQogbmV0L2NvcmUvcGt0Z2VuLmMgfCA1MiAr
KysrKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogMSBmaWxlIGNo
YW5nZWQsIDYgaW5zZXJ0aW9ucygrKSwgNDYgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvbmV0
L2NvcmUvcGt0Z2VuLmMgYi9uZXQvY29yZS9wa3RnZW4uYwppbmRleCBjNjA0YTY4ZjI4NDAuLmU4
NTA1OThkYjNlNyAxMDA2NDQKLS0tIGEvbmV0L2NvcmUvcGt0Z2VuLmMKKysrIGIvbmV0L2NvcmUv
cGt0Z2VuLmMKQEAgLTEwMjgsNyArMTAyOCw2IEBAIHN0YXRpYyBzc2l6ZV90IHBrdGdlbl9pZl93
cml0ZShzdHJ1Y3QgZmlsZSAqZmlsZSwKIAkJaWYgKGxlbiA8IDApCiAJCQlyZXR1cm4gbGVuOwog
Ci0JCWkgKz0gbGVuOwogCQlpZiAodmFsdWUgPCAxNCArIDIwICsgOCkKIAkJCXZhbHVlID0gMTQg
KyAyMCArIDg7CiAJCWlmICh2YWx1ZSAhPSBwa3RfZGV2LT5taW5fcGt0X3NpemUpIHsKQEAgLTEw
NDYsNyArMTA0NSw2IEBAIHN0YXRpYyBzc2l6ZV90IHBrdGdlbl9pZl93cml0ZShzdHJ1Y3QgZmls
ZSAqZmlsZSwKIAkJaWYgKGxlbiA8IDApCiAJCQlyZXR1cm4gbGVuOwogCi0JCWkgKz0gbGVuOwog
CQlpZiAodmFsdWUgPCAxNCArIDIwICsgOCkKIAkJCXZhbHVlID0gMTQgKyAyMCArIDg7CiAJCWlm
ICh2YWx1ZSAhPSBwa3RfZGV2LT5tYXhfcGt0X3NpemUpIHsKQEAgLTEwNjYsNyArMTA2NCw2IEBA
IHN0YXRpYyBzc2l6ZV90IHBrdGdlbl9pZl93cml0ZShzdHJ1Y3QgZmlsZSAqZmlsZSwKIAkJaWYg
KGxlbiA8IDApCiAJCQlyZXR1cm4gbGVuOwogCi0JCWkgKz0gbGVuOwogCQlpZiAodmFsdWUgPCAx
NCArIDIwICsgOCkKIAkJCXZhbHVlID0gMTQgKyAyMCArIDg7CiAJCWlmICh2YWx1ZSAhPSBwa3Rf
ZGV2LT5taW5fcGt0X3NpemUpIHsKQEAgLTEwODksNyArMTA4Niw2IEBAIHN0YXRpYyBzc2l6ZV90
IHBrdGdlbl9pZl93cml0ZShzdHJ1Y3QgZmlsZSAqZmlsZSwKIAogCQlmaWxsX2ltaXhfZGlzdHJp
YnV0aW9uKHBrdF9kZXYpOwogCi0JCWkgKz0gbGVuOwogCQlyZXR1cm4gY291bnQ7CiAJfQogCkBA
IC0xMDk5LDcgKzEwOTUsNiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5faWZfd3JpdGUoc3RydWN0
IGZpbGUgKmZpbGUsCiAJCWlmIChsZW4gPCAwKQogCQkJcmV0dXJuIGxlbjsKIAotCQlpICs9IGxl
bjsKIAkJZGVidWcgPSB2YWx1ZTsKIAkJc3ByaW50ZihwZ19yZXN1bHQsICJPSzogZGVidWc9JXUi
LCBkZWJ1Zyk7CiAJCXJldHVybiBjb3VudDsKQEAgLTExMTEsNyArMTEwNiw2IEBAIHN0YXRpYyBz
c2l6ZV90IHBrdGdlbl9pZl93cml0ZShzdHJ1Y3QgZmlsZSAqZmlsZSwKIAkJaWYgKGxlbiA8IDAp
CiAJCQlyZXR1cm4gbGVuOwogCi0JCWkgKz0gbGVuOwogCQlwa3RfZGV2LT5uZnJhZ3MgPSB2YWx1
ZTsKIAkJc3ByaW50ZihwZ19yZXN1bHQsICJPSzogZnJhZ3M9JWQiLCBwa3RfZGV2LT5uZnJhZ3Mp
OwogCQlyZXR1cm4gY291bnQ7CkBAIC0xMTIyLDcgKzExMTYsNiBAQCBzdGF0aWMgc3NpemVfdCBw
a3RnZW5faWZfd3JpdGUoc3RydWN0IGZpbGUgKmZpbGUsCiAJCWlmIChsZW4gPCAwKQogCQkJcmV0
dXJuIGxlbjsKIAotCQlpICs9IGxlbjsKIAkJaWYgKHZhbHVlID09IDB4N0ZGRkZGRkYpCiAJCQlw
a3RfZGV2LT5kZWxheSA9IFVMTE9OR19NQVg7CiAJCWVsc2UKQEAgLTExMzgsNyArMTEzMSw2IEBA
IHN0YXRpYyBzc2l6ZV90IHBrdGdlbl9pZl93cml0ZShzdHJ1Y3QgZmlsZSAqZmlsZSwKIAkJaWYg
KGxlbiA8IDApCiAJCQlyZXR1cm4gbGVuOwogCi0JCWkgKz0gbGVuOwogCQlpZiAoIXZhbHVlKQog
CQkJcmV0dXJuIC1FSU5WQUw7CiAJCXBrdF9kZXYtPmRlbGF5ID0gcGt0X2Rldi0+bWluX3BrdF9z
aXplKjgqTlNFQ19QRVJfVVNFQy92YWx1ZTsKQEAgLTExNTQsNyArMTE0Niw2IEBAIHN0YXRpYyBz
c2l6ZV90IHBrdGdlbl9pZl93cml0ZShzdHJ1Y3QgZmlsZSAqZmlsZSwKIAkJaWYgKGxlbiA8IDAp
CiAJCQlyZXR1cm4gbGVuOwogCi0JCWkgKz0gbGVuOwogCQlpZiAoIXZhbHVlKQogCQkJcmV0dXJu
IC1FSU5WQUw7CiAJCXBrdF9kZXYtPmRlbGF5ID0gTlNFQ19QRVJfU0VDL3ZhbHVlOwpAQCAtMTE3
MCw3ICsxMTYxLDYgQEAgc3RhdGljIHNzaXplX3QgcGt0Z2VuX2lmX3dyaXRlKHN0cnVjdCBmaWxl
ICpmaWxlLAogCQlpZiAobGVuIDwgMCkKIAkJCXJldHVybiBsZW47CiAKLQkJaSArPSBsZW47CiAJ
CWlmICh2YWx1ZSAhPSBwa3RfZGV2LT51ZHBfc3JjX21pbikgewogCQkJcGt0X2Rldi0+dWRwX3Ny
Y19taW4gPSB2YWx1ZTsKIAkJCXBrdF9kZXYtPmN1cl91ZHBfc3JjID0gdmFsdWU7CkBAIC0xMTg0
LDcgKzExNzQsNiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5faWZfd3JpdGUoc3RydWN0IGZpbGUg
KmZpbGUsCiAJCWlmIChsZW4gPCAwKQogCQkJcmV0dXJuIGxlbjsKIAotCQlpICs9IGxlbjsKIAkJ
aWYgKHZhbHVlICE9IHBrdF9kZXYtPnVkcF9kc3RfbWluKSB7CiAJCQlwa3RfZGV2LT51ZHBfZHN0
X21pbiA9IHZhbHVlOwogCQkJcGt0X2Rldi0+Y3VyX3VkcF9kc3QgPSB2YWx1ZTsKQEAgLTExOTgs
NyArMTE4Nyw2IEBAIHN0YXRpYyBzc2l6ZV90IHBrdGdlbl9pZl93cml0ZShzdHJ1Y3QgZmlsZSAq
ZmlsZSwKIAkJaWYgKGxlbiA8IDApCiAJCQlyZXR1cm4gbGVuOwogCi0JCWkgKz0gbGVuOwogCQlp
ZiAodmFsdWUgIT0gcGt0X2Rldi0+dWRwX3NyY19tYXgpIHsKIAkJCXBrdF9kZXYtPnVkcF9zcmNf
bWF4ID0gdmFsdWU7CiAJCQlwa3RfZGV2LT5jdXJfdWRwX3NyYyA9IHZhbHVlOwpAQCAtMTIxMiw3
ICsxMjAwLDYgQEAgc3RhdGljIHNzaXplX3QgcGt0Z2VuX2lmX3dyaXRlKHN0cnVjdCBmaWxlICpm
aWxlLAogCQlpZiAobGVuIDwgMCkKIAkJCXJldHVybiBsZW47CiAKLQkJaSArPSBsZW47CiAJCWlm
ICh2YWx1ZSAhPSBwa3RfZGV2LT51ZHBfZHN0X21heCkgewogCQkJcGt0X2Rldi0+dWRwX2RzdF9t
YXggPSB2YWx1ZTsKIAkJCXBrdF9kZXYtPmN1cl91ZHBfZHN0ID0gdmFsdWU7CkBAIC0xMjM2LDcg
KzEyMjMsNiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5faWZfd3JpdGUoc3RydWN0IGZpbGUgKmZp
bGUsCiAJCQkJICAhKHBrdF9kZXYtPmZsYWdzICYgRl9TSEFSRUQpKSkKIAkJCXJldHVybiAtRUlO
VkFMOwogCi0JCWkgKz0gbGVuOwogCQlwa3RfZGV2LT5jbG9uZV9za2IgPSB2YWx1ZTsKIAogCQlz
cHJpbnRmKHBnX3Jlc3VsdCwgIk9LOiBjbG9uZV9za2I9JWQiLCBwa3RfZGV2LT5jbG9uZV9za2Ip
OwpAQCAtMTI0OCw3ICsxMjM0LDYgQEAgc3RhdGljIHNzaXplX3QgcGt0Z2VuX2lmX3dyaXRlKHN0
cnVjdCBmaWxlICpmaWxlLAogCQlpZiAobGVuIDwgMCkKIAkJCXJldHVybiBsZW47CiAKLQkJaSAr
PSBsZW47CiAJCXBrdF9kZXYtPmNvdW50ID0gdmFsdWU7CiAJCXNwcmludGYocGdfcmVzdWx0LCAi
T0s6IGNvdW50PSVsbHUiLAogCQkJKHVuc2lnbmVkIGxvbmcgbG9uZylwa3RfZGV2LT5jb3VudCk7
CkBAIC0xMjYwLDcgKzEyNDUsNiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5faWZfd3JpdGUoc3Ry
dWN0IGZpbGUgKmZpbGUsCiAJCWlmIChsZW4gPCAwKQogCQkJcmV0dXJuIGxlbjsKIAotCQlpICs9
IGxlbjsKIAkJaWYgKHBrdF9kZXYtPnNyY19tYWNfY291bnQgIT0gdmFsdWUpIHsKIAkJCXBrdF9k
ZXYtPnNyY19tYWNfY291bnQgPSB2YWx1ZTsKIAkJCXBrdF9kZXYtPmN1cl9zcmNfbWFjX29mZnNl
dCA9IDA7CkBAIC0xMjc1LDcgKzEyNTksNiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5faWZfd3Jp
dGUoc3RydWN0IGZpbGUgKmZpbGUsCiAJCWlmIChsZW4gPCAwKQogCQkJcmV0dXJuIGxlbjsKIAot
CQlpICs9IGxlbjsKIAkJaWYgKHBrdF9kZXYtPmRzdF9tYWNfY291bnQgIT0gdmFsdWUpIHsKIAkJ
CXBrdF9kZXYtPmRzdF9tYWNfY291bnQgPSB2YWx1ZTsKIAkJCXBrdF9kZXYtPmN1cl9kc3RfbWFj
X29mZnNldCA9IDA7CkBAIC0xMjkwLDcgKzEyNzMsNiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5f
aWZfd3JpdGUoc3RydWN0IGZpbGUgKmZpbGUsCiAJCWlmIChsZW4gPCAwKQogCQkJcmV0dXJuIGxl
bjsKIAotCQlpICs9IGxlbjsKIAkJaWYgKCh2YWx1ZSA+IDEpICYmCiAJCSAgICAoKHBrdF9kZXYt
PnhtaXRfbW9kZSA9PSBNX1FVRVVFX1hNSVQpIHx8CiAJCSAgICAgKChwa3RfZGV2LT54bWl0X21v
ZGUgPT0gTV9TVEFSVF9YTUlUKSAmJgpAQCAtMTMxMCw4ICsxMjkyLDYgQEAgc3RhdGljIHNzaXpl
X3QgcGt0Z2VuX2lmX3dyaXRlKHN0cnVjdCBmaWxlICpmaWxlLAogCQlpZiAobGVuIDwgMCkKIAkJ
CXJldHVybiBsZW47CiAKLQkJaSArPSBsZW47Ci0KIAkJaWYgKG5vZGVfcG9zc2libGUodmFsdWUp
KSB7CiAJCQlwa3RfZGV2LT5ub2RlID0gdmFsdWU7CiAJCQlzcHJpbnRmKHBnX3Jlc3VsdCwgIk9L
OiBub2RlPSVkIiwgcGt0X2Rldi0+bm9kZSk7CkBAIC0xMzM1LDcgKzEzMTUsNiBAQCBzdGF0aWMg
c3NpemVfdCBwa3RnZW5faWZfd3JpdGUoc3RydWN0IGZpbGUgKmZpbGUsCiAJCW1lbXNldChmLCAw
LCBzaXplb2YoZikpOwogCQlpZiAoY29weV9mcm9tX3VzZXIoZiwgJnVzZXJfYnVmZmVyW2ldLCBs
ZW4pKQogCQkJcmV0dXJuIC1FRkFVTFQ7Ci0JCWkgKz0gbGVuOwogCiAJCWlmIChzdHJjbXAoZiwg
InN0YXJ0X3htaXQiKSA9PSAwKSB7CiAJCQlwa3RfZGV2LT54bWl0X21vZGUgPSBNX1NUQVJUX1hN
SVQ7CkBAIC0xMzc2LDcgKzEzNTUsNiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5faWZfd3JpdGUo
c3RydWN0IGZpbGUgKmZpbGUsCiAJCW1lbXNldChmLCAwLCAzMik7CiAJCWlmIChjb3B5X2Zyb21f
dXNlcihmLCAmdXNlcl9idWZmZXJbaV0sIGxlbikpCiAJCQlyZXR1cm4gLUVGQVVMVDsKLQkJaSAr
PSBsZW47CiAKIAkJZmxhZyA9IHBrdGdlbl9yZWFkX2ZsYWcoZiwgJmRpc2FibGUpOwogCQlpZiAo
ZmxhZykgewpAQCAtMTQzNCw3ICsxNDEyLDcgQEAgc3RhdGljIHNzaXplX3QgcGt0Z2VuX2lmX3dy
aXRlKHN0cnVjdCBmaWxlICpmaWxlLAogCQl9CiAJCWlmIChkZWJ1ZykKIAkJCXByX2RlYnVnKCJk
c3RfbWluIHNldCB0bzogJXNcbiIsIHBrdF9kZXYtPmRzdF9taW4pOwotCQlpICs9IGxlbjsKKwog
CQlzcHJpbnRmKHBnX3Jlc3VsdCwgIk9LOiBkc3RfbWluPSVzIiwgcGt0X2Rldi0+ZHN0X21pbik7
CiAJCXJldHVybiBjb3VudDsKIAl9CkBAIC0xNDU1LDcgKzE0MzMsNyBAQCBzdGF0aWMgc3NpemVf
dCBwa3RnZW5faWZfd3JpdGUoc3RydWN0IGZpbGUgKmZpbGUsCiAJCX0KIAkJaWYgKGRlYnVnKQog
CQkJcHJfZGVidWcoImRzdF9tYXggc2V0IHRvOiAlc1xuIiwgcGt0X2Rldi0+ZHN0X21heCk7Ci0J
CWkgKz0gbGVuOworCiAJCXNwcmludGYocGdfcmVzdWx0LCAiT0s6IGRzdF9tYXg9JXMiLCBwa3Rf
ZGV2LT5kc3RfbWF4KTsKIAkJcmV0dXJuIGNvdW50OwogCX0KQEAgLTE0NzksNyArMTQ1Nyw2IEBA
IHN0YXRpYyBzc2l6ZV90IHBrdGdlbl9pZl93cml0ZShzdHJ1Y3QgZmlsZSAqZmlsZSwKIAkJaWYg
KGRlYnVnKQogCQkJcHJfZGVidWcoImRzdDYgc2V0IHRvOiAlc1xuIiwgYnVmKTsKIAotCQlpICs9
IGxlbjsKIAkJc3ByaW50ZihwZ19yZXN1bHQsICJPSzogZHN0Nj0lcyIsIGJ1Zik7CiAJCXJldHVy
biBjb3VudDsKIAl9CkBAIC0xNTAyLDcgKzE0NzksNiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5f
aWZfd3JpdGUoc3RydWN0IGZpbGUgKmZpbGUsCiAJCWlmIChkZWJ1ZykKIAkJCXByX2RlYnVnKCJk
c3Q2X21pbiBzZXQgdG86ICVzXG4iLCBidWYpOwogCi0JCWkgKz0gbGVuOwogCQlzcHJpbnRmKHBn
X3Jlc3VsdCwgIk9LOiBkc3Q2X21pbj0lcyIsIGJ1Zik7CiAJCXJldHVybiBjb3VudDsKIAl9CkBA
IC0xNTI0LDcgKzE1MDAsNiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5faWZfd3JpdGUoc3RydWN0
IGZpbGUgKmZpbGUsCiAJCWlmIChkZWJ1ZykKIAkJCXByX2RlYnVnKCJkc3Q2X21heCBzZXQgdG86
ICVzXG4iLCBidWYpOwogCi0JCWkgKz0gbGVuOwogCQlzcHJpbnRmKHBnX3Jlc3VsdCwgIk9LOiBk
c3Q2X21heD0lcyIsIGJ1Zik7CiAJCXJldHVybiBjb3VudDsKIAl9CkBAIC0xNTQ4LDcgKzE1MjMs
NiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5faWZfd3JpdGUoc3RydWN0IGZpbGUgKmZpbGUsCiAJ
CWlmIChkZWJ1ZykKIAkJCXByX2RlYnVnKCJzcmM2IHNldCB0bzogJXNcbiIsIGJ1Zik7CiAKLQkJ
aSArPSBsZW47CiAJCXNwcmludGYocGdfcmVzdWx0LCAiT0s6IHNyYzY9JXMiLCBidWYpOwogCQly
ZXR1cm4gY291bnQ7CiAJfQpAQCAtMTU2OSw3ICsxNTQzLDcgQEAgc3RhdGljIHNzaXplX3QgcGt0
Z2VuX2lmX3dyaXRlKHN0cnVjdCBmaWxlICpmaWxlLAogCQl9CiAJCWlmIChkZWJ1ZykKIAkJCXBy
X2RlYnVnKCJzcmNfbWluIHNldCB0bzogJXNcbiIsIHBrdF9kZXYtPnNyY19taW4pOwotCQlpICs9
IGxlbjsKKwogCQlzcHJpbnRmKHBnX3Jlc3VsdCwgIk9LOiBzcmNfbWluPSVzIiwgcGt0X2Rldi0+
c3JjX21pbik7CiAJCXJldHVybiBjb3VudDsKIAl9CkBAIC0xNTkwLDcgKzE1NjQsNyBAQCBzdGF0
aWMgc3NpemVfdCBwa3RnZW5faWZfd3JpdGUoc3RydWN0IGZpbGUgKmZpbGUsCiAJCX0KIAkJaWYg
KGRlYnVnKQogCQkJcHJfZGVidWcoInNyY19tYXggc2V0IHRvOiAlc1xuIiwgcGt0X2Rldi0+c3Jj
X21heCk7Ci0JCWkgKz0gbGVuOworCiAJCXNwcmludGYocGdfcmVzdWx0LCAiT0s6IHNyY19tYXg9
JXMiLCBwa3RfZGV2LT5zcmNfbWF4KTsKIAkJcmV0dXJuIGNvdW50OwogCX0KQEAgLTE2NDMsNyAr
MTYxNyw2IEBAIHN0YXRpYyBzc2l6ZV90IHBrdGdlbl9pZl93cml0ZShzdHJ1Y3QgZmlsZSAqZmls
ZSwKIAkJaWYgKGxlbiA8IDApCiAJCQlyZXR1cm4gbGVuOwogCi0JCWkgKz0gbGVuOwogCQlpZiAo
dmFsdWUgPiBNQVhfQ0ZMT1dTKQogCQkJdmFsdWUgPSBNQVhfQ0ZMT1dTOwogCkBAIC0xNjU4LDcg
KzE2MzEsNiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5faWZfd3JpdGUoc3RydWN0IGZpbGUgKmZp
bGUsCiAJCWlmIChsZW4gPCAwKQogCQkJcmV0dXJuIGxlbjsKIAotCQlpICs9IGxlbjsKIAkJcGt0
X2Rldi0+c3BpID0gdmFsdWU7CiAJCXNwcmludGYocGdfcmVzdWx0LCAiT0s6IHNwaT0ldSIsIHBr
dF9kZXYtPnNwaSk7CiAJCXJldHVybiBjb3VudDsKQEAgLTE2NzAsNyArMTY0Miw2IEBAIHN0YXRp
YyBzc2l6ZV90IHBrdGdlbl9pZl93cml0ZShzdHJ1Y3QgZmlsZSAqZmlsZSwKIAkJaWYgKGxlbiA8
IDApCiAJCQlyZXR1cm4gbGVuOwogCi0JCWkgKz0gbGVuOwogCQlwa3RfZGV2LT5sZmxvdyA9IHZh
bHVlOwogCQlzcHJpbnRmKHBnX3Jlc3VsdCwgIk9LOiBmbG93bGVuPSV1IiwgcGt0X2Rldi0+bGZs
b3cpOwogCQlyZXR1cm4gY291bnQ7CkBAIC0xNjgyLDcgKzE2NTMsNiBAQCBzdGF0aWMgc3NpemVf
dCBwa3RnZW5faWZfd3JpdGUoc3RydWN0IGZpbGUgKmZpbGUsCiAJCWlmIChsZW4gPCAwKQogCQkJ
cmV0dXJuIGxlbjsKIAotCQlpICs9IGxlbjsKIAkJcGt0X2Rldi0+cXVldWVfbWFwX21pbiA9IHZh
bHVlOwogCQlzcHJpbnRmKHBnX3Jlc3VsdCwgIk9LOiBxdWV1ZV9tYXBfbWluPSV1IiwgcGt0X2Rl
di0+cXVldWVfbWFwX21pbik7CiAJCXJldHVybiBjb3VudDsKQEAgLTE2OTQsNyArMTY2NCw2IEBA
IHN0YXRpYyBzc2l6ZV90IHBrdGdlbl9pZl93cml0ZShzdHJ1Y3QgZmlsZSAqZmlsZSwKIAkJaWYg
KGxlbiA8IDApCiAJCQlyZXR1cm4gbGVuOwogCi0JCWkgKz0gbGVuOwogCQlwa3RfZGV2LT5xdWV1
ZV9tYXBfbWF4ID0gdmFsdWU7CiAJCXNwcmludGYocGdfcmVzdWx0LCAiT0s6IHF1ZXVlX21hcF9t
YXg9JXUiLCBwa3RfZGV2LT5xdWV1ZV9tYXBfbWF4KTsKIAkJcmV0dXJuIGNvdW50OwpAQCAtMTcw
Nyw3ICsxNjc2LDcgQEAgc3RhdGljIHNzaXplX3QgcGt0Z2VuX2lmX3dyaXRlKHN0cnVjdCBmaWxl
ICpmaWxlLAogCQlsZW4gPSBnZXRfbGFiZWxzKCZ1c2VyX2J1ZmZlcltpXSwgbWF4LCBwa3RfZGV2
KTsKIAkJaWYgKGxlbiA8IDApCiAJCQlyZXR1cm4gbGVuOwotCQlpICs9IGxlbjsKKwogCQljbnQg
PSBzcHJpbnRmKHBnX3Jlc3VsdCwgIk9LOiBtcGxzPSIpOwogCQlmb3IgKG4gPSAwOyBuIDwgcGt0
X2Rldi0+bnJfbGFiZWxzOyBuKyspCiAJCQljbnQgKz0gc3ByaW50ZihwZ19yZXN1bHQgKyBjbnQs
CkBAIC0xNzMwLDcgKzE2OTksNiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5faWZfd3JpdGUoc3Ry
dWN0IGZpbGUgKmZpbGUsCiAJCWlmIChsZW4gPCAwKQogCQkJcmV0dXJuIGxlbjsKIAotCQlpICs9
IGxlbjsKIAkJaWYgKHZhbHVlIDw9IDQwOTUpIHsKIAkJCXBrdF9kZXYtPnZsYW5faWQgPSB2YWx1
ZTsgIC8qIHR1cm4gb24gVkxBTiAqLwogCkBAIC0xNzU4LDcgKzE3MjYsNiBAQCBzdGF0aWMgc3Np
emVfdCBwa3RnZW5faWZfd3JpdGUoc3RydWN0IGZpbGUgKmZpbGUsCiAJCWlmIChsZW4gPCAwKQog
CQkJcmV0dXJuIGxlbjsKIAotCQlpICs9IGxlbjsKIAkJaWYgKCh2YWx1ZSA8PSA3KSAmJiAocGt0
X2Rldi0+dmxhbl9pZCAhPSAweGZmZmYpKSB7CiAJCQlwa3RfZGV2LT52bGFuX3AgPSB2YWx1ZTsK
IAkJCXNwcmludGYocGdfcmVzdWx0LCAiT0s6IHZsYW5fcD0ldSIsIHBrdF9kZXYtPnZsYW5fcCk7
CkBAIC0xNzc0LDcgKzE3NDEsNiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5faWZfd3JpdGUoc3Ry
dWN0IGZpbGUgKmZpbGUsCiAJCWlmIChsZW4gPCAwKQogCQkJcmV0dXJuIGxlbjsKIAotCQlpICs9
IGxlbjsKIAkJaWYgKCh2YWx1ZSA8PSAxKSAmJiAocGt0X2Rldi0+dmxhbl9pZCAhPSAweGZmZmYp
KSB7CiAJCQlwa3RfZGV2LT52bGFuX2NmaSA9IHZhbHVlOwogCQkJc3ByaW50ZihwZ19yZXN1bHQs
ICJPSzogdmxhbl9jZmk9JXUiLCBwa3RfZGV2LT52bGFuX2NmaSk7CkBAIC0xNzkwLDcgKzE3NTYs
NiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5faWZfd3JpdGUoc3RydWN0IGZpbGUgKmZpbGUsCiAJ
CWlmIChsZW4gPCAwKQogCQkJcmV0dXJuIGxlbjsKIAotCQlpICs9IGxlbjsKIAkJaWYgKCh2YWx1
ZSA8PSA0MDk1KSAmJiAoKHBrdF9kZXYtPnZsYW5faWQgIT0gMHhmZmZmKSkpIHsKIAkJCXBrdF9k
ZXYtPnN2bGFuX2lkID0gdmFsdWU7ICAvKiB0dXJuIG9uIFNWTEFOICovCiAKQEAgLTE4MTgsNyAr
MTc4Myw2IEBAIHN0YXRpYyBzc2l6ZV90IHBrdGdlbl9pZl93cml0ZShzdHJ1Y3QgZmlsZSAqZmls
ZSwKIAkJaWYgKGxlbiA8IDApCiAJCQlyZXR1cm4gbGVuOwogCi0JCWkgKz0gbGVuOwogCQlpZiAo
KHZhbHVlIDw9IDcpICYmIChwa3RfZGV2LT5zdmxhbl9pZCAhPSAweGZmZmYpKSB7CiAJCQlwa3Rf
ZGV2LT5zdmxhbl9wID0gdmFsdWU7CiAJCQlzcHJpbnRmKHBnX3Jlc3VsdCwgIk9LOiBzdmxhbl9w
PSV1IiwgcGt0X2Rldi0+c3ZsYW5fcCk7CkBAIC0xODM0LDcgKzE3OTgsNiBAQCBzdGF0aWMgc3Np
emVfdCBwa3RnZW5faWZfd3JpdGUoc3RydWN0IGZpbGUgKmZpbGUsCiAJCWlmIChsZW4gPCAwKQog
CQkJcmV0dXJuIGxlbjsKIAotCQlpICs9IGxlbjsKIAkJaWYgKCh2YWx1ZSA8PSAxKSAmJiAocGt0
X2Rldi0+c3ZsYW5faWQgIT0gMHhmZmZmKSkgewogCQkJcGt0X2Rldi0+c3ZsYW5fY2ZpID0gdmFs
dWU7CiAJCQlzcHJpbnRmKHBnX3Jlc3VsdCwgIk9LOiBzdmxhbl9jZmk9JXUiLCBwa3RfZGV2LT5z
dmxhbl9jZmkpOwpAQCAtMTg1Miw3ICsxODE1LDYgQEAgc3RhdGljIHNzaXplX3QgcGt0Z2VuX2lm
X3dyaXRlKHN0cnVjdCBmaWxlICpmaWxlLAogCQlpZiAobGVuIDwgMCkKIAkJCXJldHVybiBsZW47
CiAKLQkJaSArPSBsZW47CiAJCWlmIChsZW4gPT0gMikgewogCQkJcGt0X2Rldi0+dG9zID0gdG1w
X3ZhbHVlOwogCQkJc3ByaW50ZihwZ19yZXN1bHQsICJPSzogdG9zPTB4JTAyeCIsIHBrdF9kZXYt
PnRvcyk7CkBAIC0xODcwLDcgKzE4MzIsNiBAQCBzdGF0aWMgc3NpemVfdCBwa3RnZW5faWZfd3Jp
dGUoc3RydWN0IGZpbGUgKmZpbGUsCiAJCWlmIChsZW4gPCAwKQogCQkJcmV0dXJuIGxlbjsKIAot
CQlpICs9IGxlbjsKIAkJaWYgKGxlbiA9PSAyKSB7CiAJCQlwa3RfZGV2LT50cmFmZmljX2NsYXNz
ID0gdG1wX3ZhbHVlOwogCQkJc3ByaW50ZihwZ19yZXN1bHQsICJPSzogdHJhZmZpY19jbGFzcz0w
eCUwMngiLCBwa3RfZGV2LT50cmFmZmljX2NsYXNzKTsKQEAgLTE4ODYsNyArMTg0Nyw2IEBAIHN0
YXRpYyBzc2l6ZV90IHBrdGdlbl9pZl93cml0ZShzdHJ1Y3QgZmlsZSAqZmlsZSwKIAkJaWYgKGxl
biA8IDApCiAJCQlyZXR1cm4gbGVuOwogCi0JCWkgKz0gbGVuOwogCQlwa3RfZGV2LT5za2JfcHJp
b3JpdHkgPSB2YWx1ZTsKIAkJc3ByaW50ZihwZ19yZXN1bHQsICJPSzogc2tiX3ByaW9yaXR5PSVp
IiwKIAkJCXBrdF9kZXYtPnNrYl9wcmlvcml0eSk7CkBAIC0yMDAzLDcgKzE5NjMsNyBAQCBzdGF0
aWMgc3NpemVfdCBwa3RnZW5fdGhyZWFkX3dyaXRlKHN0cnVjdCBmaWxlICpmaWxlLAogCQl9CiAJ
CWlmIChjb3B5X2Zyb21fdXNlcihmLCAmdXNlcl9idWZmZXJbaV0sIGxlbikpCiAJCQlyZXR1cm4g
LUVGQVVMVDsKLQkJaSArPSBsZW47CisKIAkJbXV0ZXhfbG9jaygmcGt0Z2VuX3RocmVhZF9sb2Nr
KTsKIAkJcmV0ID0gcGt0Z2VuX2FkZF9kZXZpY2UodCwgZik7CiAJCW11dGV4X3VubG9jaygmcGt0
Z2VuX3RocmVhZF9sb2NrKTsKLS0gCjIuNDguMQoK

