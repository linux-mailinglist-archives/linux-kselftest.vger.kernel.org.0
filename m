Return-Path: <linux-kselftest+bounces-31384-lists+linux-kselftest=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-kselftest@lfdr.de
Delivered-To: lists+linux-kselftest@lfdr.de
Received: from sv.mirrors.kernel.org (sv.mirrors.kernel.org [IPv6:2604:1380:45e3:2400::1])
	by mail.lfdr.de (Postfix) with ESMTPS id B760DA983CE
	for <lists+linux-kselftest@lfdr.de>; Wed, 23 Apr 2025 10:40:34 +0200 (CEST)
Received: from smtp.subspace.kernel.org (relay.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sv.mirrors.kernel.org (Postfix) with ESMTPS id 3565E3B2C39
	for <lists+linux-kselftest@lfdr.de>; Wed, 23 Apr 2025 08:38:43 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 6240F26FA62;
	Wed, 23 Apr 2025 08:32:46 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=gmail.com header.i=@gmail.com header.b="kV7zmRNa"
X-Original-To: linux-kselftest@vger.kernel.org
Received: from mail-yb1-f171.google.com (mail-yb1-f171.google.com [209.85.219.171])
	(using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id B3FC726B949
	for <linux-kselftest@vger.kernel.org>; Wed, 23 Apr 2025 08:32:44 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=209.85.219.171
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1745397166; cv=none; b=eZ2Ump3AyALFnV3KXWQb+giHwabEXGNAgrGhcu1bPE/T+TOqhZvWLtQnrfglDRxaa6/dMOGve7I5b2VB/n57BY9TbmCzr01fNPMX4ns2ewgZMA2t43leJH8E/VLLPRfbrY0dMbOX+UJiu6EQPYmJ6xqpdDXoEWtr0qz0PVysoPc=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1745397166; c=relaxed/simple;
	bh=ygeRV2vThfshrEb0Nm81zy39FchyFNZHsdzGp0YuUF4=;
	h=MIME-Version:From:Date:Message-ID:Subject:To:Cc:Content-Type; b=Buut7FRzcOVOnmMj6r1p9qH9nMTK5a+725zhHSWMZNwJf6Q8KV4dDqsSOVSoZDbXts2lWVOPHUljk+9TUxyhH6PHR4Cp8obNTy73Ouz17t/sbxCLTPC1IcbVQm2GRLSwhD3ZnOgqSlMTFJU98PnN2824000ORIfy0zMqcWJxzb8=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=gmail.com; spf=pass smtp.mailfrom=gmail.com; dkim=pass (2048-bit key) header.d=gmail.com header.i=@gmail.com header.b=kV7zmRNa; arc=none smtp.client-ip=209.85.219.171
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=gmail.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=gmail.com
Received: by mail-yb1-f171.google.com with SMTP id 3f1490d57ef6-e455bf1f4d3so4611490276.2
        for <linux-kselftest@vger.kernel.org>; Wed, 23 Apr 2025 01:32:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20230601; t=1745397163; x=1746001963; darn=vger.kernel.org;
        h=cc:to:subject:message-id:date:from:mime-version:from:to:cc:subject
         :date:message-id:reply-to;
        bh=oBz9OZkIpRpZKku4X9rAGI26JwESsFn9rGHcdzdjeeo=;
        b=kV7zmRNaktGQxWLZ2wDdFWsYRh1DtBS+GcQIblmDPvZHGfixnHhpcUyYknKsyILdoc
         EyaGTDyX+ZAoTKMBkmBrLOggQOzS3BCT+VAjZGAuWEvKr31j2F2aK10geNmtFLwfAgm3
         K49OquTFRwdnWR3u0VmqGkbgyBBOudlQmWEaOgtFXGh9Uqcx/eE9g1NhLF834sAXGdsk
         DP8qS/ddrUDDOSXQrqsI7KoawCyXgv3Ht590mP9549a5ZiQowEVGpTET5rDMXMnuLw3p
         E7oHNTZRBYbLOu8yjqb7KW1w+S0/CCMm/E2wh1tECk+aUNNNrM9EgWr96zVu9N9pb2PH
         dD7Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20230601; t=1745397163; x=1746001963;
        h=cc:to:subject:message-id:date:from:mime-version:x-gm-message-state
         :from:to:cc:subject:date:message-id:reply-to;
        bh=oBz9OZkIpRpZKku4X9rAGI26JwESsFn9rGHcdzdjeeo=;
        b=xFzNh37GcZbNJm8UDxZAH7V3tgvYcuDKf1om9KJUq9fQsmKKMMx87blKiAauh8ZOo8
         BfymW9sXHc2rQiBhyKshk5OpOHhqS4JUuzw4Bmufd3yyDw+KOVFEkJv29Qcllo0cY3CV
         bxT6IHan2Vq1gpbGyZp59RfQCgngcaYTh/Zu4o6gXPfhhpWS443bBpS7fIPCJlZcXZch
         Y+VUgixrLN1SDVlFr86ZL2t+tM8Y0WEnvrvQWcfT9gHjEuX3Wmi33w7KvN0V2PyZ4k8d
         cPtBJZr0hmSPpe3gbpeN+xR5pKGXOQBfbrcjkd1jfRbXMX9xjIlRNv+APqxlBqtSn/nf
         LjXQ==
X-Gm-Message-State: AOJu0YyoTiqK8wydmiCv5Mit2kyCSoDrxJNwhrb18byOPoAkXffGmsj7
	PVeN8F/TUKSryA9btZcYhQddixx/SOHQxu9wV+LfdZ5JH0auN92j4pyi5LerTOiEB+0wurFc0ua
	7HqwUcemH5pIMh469mpalcJ3KnuHLDJHYUb0=
X-Gm-Gg: ASbGnctaaVACAbZ9uzuYKHt2jbngrqnu4j4Dv60+3suuM3nsHPXfeiE/rT+GXueFzJ4
	s4PILle7F6SFrUUBvZe/oAwMALxfyKCC46wlqo7c6fudmdfli3omBybT1iBTjRL3BI9G7I4p2uD
	d8Z386UUttZKqQu3iu2W90juit+DZ4yzryMfbiwclsXGQulxO+gka1JXLO
X-Google-Smtp-Source: AGHT+IGEiU0vEvBQZyH43mfWCQaf/QFgNm0oi1mgFqkNgx0fsdCg1CEx5nVip8JmDNV95Zby9PJKq6p4w9wya+iZRs8=
X-Received: by 2002:a05:6902:2e0e:b0:e6d:e693:4107 with SMTP id
 3f1490d57ef6-e7297ee581dmr25257681276.42.1745397163496; Wed, 23 Apr 2025
 01:32:43 -0700 (PDT)
Precedence: bulk
X-Mailing-List: linux-kselftest@vger.kernel.org
List-Id: <linux-kselftest.vger.kernel.org>
List-Subscribe: <mailto:linux-kselftest+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-kselftest+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
From: Alexander Shatalin <sashatalin03@gmail.com>
Date: Wed, 23 Apr 2025 11:32:32 +0300
X-Gm-Features: ATxdqUGqmLd5diZW6eXfHAiQ0zrptyGmcQ-z1scdgnkKvd33ZvFEQLOTc_mjGKI
Message-ID: <CAKWAyW=nV1CNh4Pv3Uj00djOmxynBJpbSseZkTjMvcxTbE0j1g@mail.gmail.com>
Subject: [PATCH] fix(script): improve safety and formatting for WRITES_STRICT restore
To: linux-kselftest@vger.kernel.org
Cc: skhan@linuxfoundation.org
Content-Type: multipart/mixed; boundary="000000000000ec55f906336df13d"

--000000000000ec55f906336df13d
Content-Type: multipart/alternative; boundary="000000000000ec55f806336df13b"

--000000000000ec55f806336df13b
Content-Type: text/plain; charset="UTF-8"

From: Alexander Shatalin <sashatalin03@gmail.com>

This patch improves the safety when restoring WRITES_STRICT by ensuring:
- The variable is not empty (`-n`)
- The target file is writable (`-w`)
Also improves formatting by quoting variables and following shell best
practices.

Signed-off-by: Alexander Shatalin <sashatalin03@gmail.com>

--000000000000ec55f806336df13b
Content-Type: text/html; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">From: Alexander Shatalin &lt;<a href=3D"mailto:sashatalin0=
3@gmail.com">sashatalin03@gmail.com</a>&gt;<br><br>This patch improves the =
safety when restoring WRITES_STRICT by ensuring:<br>- The variable is not e=
mpty (`-n`)<br>- The target file is writable (`-w`)<br>Also improves format=
ting by quoting variables and following shell best practices.<br><br>Signed=
-off-by: Alexander Shatalin &lt;<a href=3D"mailto:sashatalin03@gmail.com">s=
ashatalin03@gmail.com</a>&gt;<br></div>

--000000000000ec55f806336df13b--
--000000000000ec55f906336df13d
Content-Type: application/octet-stream; 
	name="0001-selftests-sysctl-improve-safety-and-formatting-for-W.patch"
Content-Disposition: attachment; 
	filename="0001-selftests-sysctl-improve-safety-and-formatting-for-W.patch"
Content-Transfer-Encoding: base64
Content-ID: <f_m9toe87v0>
X-Attachment-Id: f_m9toe87v0

RnJvbSA1YTAwN2EzMjI1OTM1NzdlZmY4YmFiYmViZjdkZGZlZWNmMTIyYzAxIE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBBbGV4YW5kZXIgU2hhdGFsaW4gPHNhc2hhdGFsaW4wM0BnbWFp
bC5jb20+CkRhdGU6IFdlZCwgMjMgQXByIDIwMjUgMTE6MzE6NDkgKzAzMDAKU3ViamVjdDogW1BB
VENIXSBzZWxmdGVzdHMvc3lzY3RsOiBpbXByb3ZlIHNhZmV0eSBhbmQgZm9ybWF0dGluZyBmb3IK
IFdSSVRFU19TVFJJQ1QgcmVzdG9yZQoKU2lnbmVkLW9mZi1ieTogQWxleGFuZGVyIFNoYXRhbGlu
IDxzYXNoYXRhbGluMDNAZ21haWwuY29tPgotLS0KIHRvb2xzL3Rlc3Rpbmcvc2VsZnRlc3RzL3N5
c2N0bC9zeXNjdGwuc2ggfCAyNTQgKysrKysrKysrKy0tLS0tLS0tLS0tLS0KIDEgZmlsZSBjaGFu
Z2VkLCAxMTQgaW5zZXJ0aW9ucygrKSwgMTQwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3Rv
b2xzL3Rlc3Rpbmcvc2VsZnRlc3RzL3N5c2N0bC9zeXNjdGwuc2ggYi90b29scy90ZXN0aW5nL3Nl
bGZ0ZXN0cy9zeXNjdGwvc3lzY3RsLnNoCmluZGV4IGY1MDc3OGEzZDc0NC4uMjNiZTZlYzI4ODA3
IDEwMDc1NQotLS0gYS90b29scy90ZXN0aW5nL3NlbGZ0ZXN0cy9zeXNjdGwvc3lzY3RsLnNoCisr
KyBiL3Rvb2xzL3Rlc3Rpbmcvc2VsZnRlc3RzL3N5c2N0bC9zeXNjdGwuc2gKQEAgLTQyLDggKzQy
LDcgQEAgQUxMX1RFU1RTPSIkQUxMX1RFU1RTIDAwMDY6NTA6MTpiaXRtYXBfMDAwMSIKIEFMTF9U
RVNUUz0iJEFMTF9URVNUUyAwMDA3OjE6MTpib290X2ludCIKIEFMTF9URVNUUz0iJEFMTF9URVNU
UyAwMDA4OjE6MTptYXRjaF9pbnQiCiAKLWZ1bmN0aW9uIGFsbG93X3VzZXJfZGVmYXVsdHMoKQot
eworZnVuY3Rpb24gYWxsb3dfdXNlcl9kZWZhdWx0cygpIHsKIAlpZiBbIC16ICRESVIgXTsgdGhl
bgogCQlESVI9Ii9zeXMvbW9kdWxlL3Rlc3Rfc3lzY3RsLyIKIAlmaQpAQCAtNjEsOCArNjAsNyBA
QCBmdW5jdGlvbiBhbGxvd191c2VyX2RlZmF1bHRzKCkKIAlmaQogfQogCi1mdW5jdGlvbiBjaGVj
a19wcm9kdWN0aW9uX3N5c2N0bF93cml0ZXNfc3RyaWN0KCkKLXsKK2Z1bmN0aW9uIGNoZWNrX3By
b2R1Y3Rpb25fc3lzY3RsX3dyaXRlc19zdHJpY3QoKSB7CiAJZWNobyAtbiAiQ2hlY2tpbmcgcHJv
ZHVjdGlvbiB3cml0ZSBzdHJpY3Qgc2V0dGluZyAuLi4gIgogCWlmIFsgISAtZSAke1dSSVRFU19T
VFJJQ1R9IF07IHRoZW4KIAkJZWNobyAiRkFJTCwgYnV0IHNraXAgaW4gY2FzZSBvZiBvbGQga2Vy
bmVsIiA+JjIKQEAgLTcyLDcgKzcwLDcgQEAgZnVuY3Rpb24gY2hlY2tfcHJvZHVjdGlvbl9zeXNj
dGxfd3JpdGVzX3N0cmljdCgpCiAJCQllY2hvICJvayIKIAkJZWxzZQogCQkJZWNobyAiRkFJTCwg
c3RyaWN0IHZhbHVlIGlzIDAgYnV0IGZvcmNlIHRvIDEgdG8gY29udGludWUiID4mMgotCQkJZWNo
byAiMSIgPiAke1dSSVRFU19TVFJJQ1R9CisJCQllY2hvICIxIiA+JHtXUklURVNfU1RSSUNUfQog
CQlmaQogCWZpCiAKQEAgLTgwLDcgKzc4LDcgQEAgZnVuY3Rpb24gY2hlY2tfcHJvZHVjdGlvbl9z
eXNjdGxfd3JpdGVzX3N0cmljdCgpCiAJCVBBR0VfU0laRT0kKGdldGNvbmYgUEFHRVNJWkUpCiAJ
ZmkKIAlpZiBbIC16ICRNQVhfRElHSVRTIF07IHRoZW4KLQkJTUFYX0RJR0lUUz0kKCgkUEFHRV9T
SVpFLzgpKQorCQlNQVhfRElHSVRTPSQoKCRQQUdFX1NJWkUgLyA4KSkKIAlmaQogCWlmIFsgLXog
JElOVF9NQVggXTsgdGhlbgogCQlJTlRfTUFYPSQoZ2V0Y29uZiBJTlRfTUFYKQpAQCAtOTAsMzAg
Kzg4LDI4IEBAIGZ1bmN0aW9uIGNoZWNrX3Byb2R1Y3Rpb25fc3lzY3RsX3dyaXRlc19zdHJpY3Qo
KQogCWZpCiB9CiAKLXRlc3RfcmVxcygpCi17Cit0ZXN0X3JlcXMoKSB7CiAJdWlkPSQoaWQgLXUp
CiAJaWYgWyAkdWlkIC1uZSAwIF07IHRoZW4KIAkJZWNobyAkbXNnIG11c3QgYmUgcnVuIGFzIHJv
b3QgPiYyCiAJCWV4aXQgJGtzZnRfc2tpcAogCWZpCiAKLQlpZiAhIHdoaWNoIHBlcmwgMj4gL2Rl
di9udWxsID4gL2Rldi9udWxsOyB0aGVuCisJaWYgISB3aGljaCBwZXJsIDI+L2Rldi9udWxsID4v
ZGV2L251bGw7IHRoZW4KIAkJZWNobyAiJDA6IFlvdSBuZWVkIHBlcmwgaW5zdGFsbGVkIgogCQll
eGl0ICRrc2Z0X3NraXAKIAlmaQotCWlmICEgd2hpY2ggZ2V0Y29uZiAyPiAvZGV2L251bGwgPiAv
ZGV2L251bGw7IHRoZW4KKwlpZiAhIHdoaWNoIGdldGNvbmYgMj4vZGV2L251bGwgPi9kZXYvbnVs
bDsgdGhlbgogCQllY2hvICIkMDogWW91IG5lZWQgZ2V0Y29uZiBpbnN0YWxsZWQiCiAJCWV4aXQg
JGtzZnRfc2tpcAogCWZpCi0JaWYgISB3aGljaCBkaWZmIDI+IC9kZXYvbnVsbCA+IC9kZXYvbnVs
bDsgdGhlbgorCWlmICEgd2hpY2ggZGlmZiAyPi9kZXYvbnVsbCA+L2Rldi9udWxsOyB0aGVuCiAJ
CWVjaG8gIiQwOiBZb3UgbmVlZCBkaWZmIGluc3RhbGxlZCIKIAkJZXhpdCAka3NmdF9za2lwCiAJ
ZmkKIH0KIAotZnVuY3Rpb24gbG9hZF9yZXFfbW9kKCkKLXsKK2Z1bmN0aW9uIGxvYWRfcmVxX21v
ZCgpIHsKIAlpZiBbICEgLWQgJFNZU0NUTCBdOyB0aGVuCiAJCWlmICEgbW9kcHJvYmUgLXEgLW4g
JFRFU1RfRFJJVkVSOyB0aGVuCiAJCQllY2hvICIkMDogbW9kdWxlICRURVNUX0RSSVZFUiBub3Qg
Zm91bmQgW1NLSVBdIgpAQCAtMTI4LDQ4ICsxMjQsNDMgQEAgZnVuY3Rpb24gbG9hZF9yZXFfbW9k
KCkKIAlmaQogfQogCi1yZXNldF92YWxzKCkKLXsKK3Jlc2V0X3ZhbHMoKSB7CiAJVkFMPSIiCiAJ
VFJJR0dFUj0kKGJhc2VuYW1lICR7VEFSR0VUfSkKIAljYXNlICIkVFJJR0dFUiIgaW4KLQkJaW50
XzAwMDEpCi0JCQlWQUw9IjYwIgotCQkJOzsKLQkJaW50XzAwMDIpCi0JCQlWQUw9IjEiCi0JCQk7
OwotCQl1aW50XzAwMDEpCi0JCQlWQUw9IjMxNCIKLQkJCTs7Ci0JCXN0cmluZ18wMDAxKQotCQkJ
VkFMPSIobm9uZSkiCi0JCQk7OwotCQliaXRtYXBfMDAwMSkKLQkJCVZBTD0iIgotCQkJOzsKLQkJ
KikKLQkJCTs7CisJaW50XzAwMDEpCisJCVZBTD0iNjAiCisJCTs7CisJaW50XzAwMDIpCisJCVZB
TD0iMSIKKwkJOzsKKwl1aW50XzAwMDEpCisJCVZBTD0iMzE0IgorCQk7OworCXN0cmluZ18wMDAx
KQorCQlWQUw9Iihub25lKSIKKwkJOzsKKwliaXRtYXBfMDAwMSkKKwkJVkFMPSIiCisJCTs7CisJ
KikgOzsKIAllc2FjCi0JZWNobyAtbiAkVkFMID4gJFRBUkdFVAorCWVjaG8gLW4gJFZBTCA+JFRB
UkdFVAogfQogCi1zZXRfb3JpZygpCi17CitzZXRfb3JpZygpIHsKIAlpZiBbICEgLXogJFRBUkdF
VCBdICYmIFsgISAteiAkT1JJRyBdOyB0aGVuCiAJCWlmIFsgLWYgJHtUQVJHRVR9IF07IHRoZW4K
LQkJCWVjaG8gIiR7T1JJR30iID4gIiR7VEFSR0VUfSIKKwkJCWVjaG8gIiR7T1JJR30iID4iJHtU
QVJHRVR9IgogCQlmaQogCWZpCiB9CiAKLXNldF90ZXN0KCkKLXsKLQllY2hvICIke1RFU1RfU1RS
fSIgPiAiJHtUQVJHRVR9Igorc2V0X3Rlc3QoKSB7CisJZWNobyAiJHtURVNUX1NUUn0iID4iJHtU
QVJHRVR9IgogfQogCi12ZXJpZnkoKQotewordmVyaWZ5KCkgewogCWxvY2FsIHNlZW4KIAlzZWVu
PSQoY2F0ICIkMSIpCiAJaWYgWyAiJHtzZWVufSIgIT0gIiR7VEVTVF9TVFJ9IiBdOyB0aGVuCkBA
IC0xODIsMTAgKzE3Myw5IEBAIHZlcmlmeSgpCiAjIGFuZCBnZXQgeW91IGluY29ycmVjdCByZXN1
bHRzIG9uIHByb2MgZmlsZXMgd2l0aCBsb25nIGRhdGEuIFRvIHVzZQogIyBkaWZmIGFnYWluc3Qg
dGhlbSB5b3UgbXVzdCBmaXJzdCBleHRyYWN0IHRoZSBvdXRwdXQgdG8gYSBmaWxlLCBhbmQKICMg
dGhlbiBjb21wYXJlIGFnYWluc3QgdGhhdCBmaWxlLgotdmVyaWZ5X2RpZmZfcHJvY19maWxlKCkK
LXsKK3ZlcmlmeV9kaWZmX3Byb2NfZmlsZSgpIHsKIAlUTVBfRFVNUF9GSUxFPSQobWt0ZW1wKQot
CWNhdCAkMSA+ICRUTVBfRFVNUF9GSUxFCisJY2F0ICQxID4kVE1QX0RVTVBfRklMRQogCiAJaWYg
ISBkaWZmIC13IC1xICRUTVBfRFVNUF9GSUxFICQyOyB0aGVuCiAJCXJldHVybiAxCkBAIC0xOTQs
MzkgKzE4NCwzNSBAQCB2ZXJpZnlfZGlmZl9wcm9jX2ZpbGUoKQogCWZpCiB9CiAKLXZlcmlmeV9k
aWZmX3coKQotewotCWVjaG8gIiRURVNUX1NUUiIgfCBkaWZmIC1xIC13IC11IC0gJDEgPiAvZGV2
L251bGwKK3ZlcmlmeV9kaWZmX3coKSB7CisJZWNobyAiJFRFU1RfU1RSIiB8IGRpZmYgLXEgLXcg
LXUgLSAkMSA+L2Rldi9udWxsCiAJcmV0dXJuICQ/CiB9CiAKLXRlc3RfcmMoKQotewordGVzdF9y
YygpIHsKIAlpZiBbWyAkcmMgIT0gMCBdXTsgdGhlbgogCQllY2hvICJGYWlsZWQgdGVzdCwgcmV0
dXJuIHZhbHVlOiAkcmMiID4mMgogCQlleGl0ICRyYwogCWZpCiB9CiAKLXRlc3RfZmluaXNoKCkK
LXsKK3Rlc3RfZmluaXNoKCkgewogCXNldF9vcmlnCiAJcm0gLWYgIiR7VEVTVF9GSUxFfSIKIAot
CWlmIFsgISAteiAke29sZF9zdHJpY3R9IF07IHRoZW4KLQkJZWNobyAke29sZF9zdHJpY3R9ID4g
JHtXUklURVNfU1RSSUNUfQorCWlmIFsgLW4gIiR7b2xkX3N0cmljdH0iIF0gJiYgWyAtdyAiJHtX
UklURVNfU1RSSUNUfSIgXTsgdGhlbgorCQllY2hvICIke29sZF9zdHJpY3R9IiA+IiR7V1JJVEVT
X1NUUklDVH0iCiAJZmkKIAlleGl0ICRyYwogfQogCi1ydW5fbnVtZXJpY3Rlc3RzKCkKLXsKK3J1
bl9udW1lcmljdGVzdHMoKSB7CiAJZWNobyAiPT0gVGVzdGluZyBzeXNjdGwgYmVoYXZpb3IgYWdh
aW5zdCAke1RBUkdFVH0gPT0iCiAKIAlyYz0wCiAKIAllY2hvIC1uICJXcml0aW5nIHRlc3QgZmls
ZSAuLi4gIgotCWVjaG8gIiR7VEVTVF9TVFJ9IiA+ICIke1RFU1RfRklMRX0iCisJZWNobyAiJHtU
RVNUX1NUUn0iID4iJHtURVNUX0ZJTEV9IgogCWlmICEgdmVyaWZ5ICIke1RFU1RfRklMRX0iOyB0
aGVuCiAJCWVjaG8gIkZBSUwiID4mMgogCQlleGl0IDEKQEAgLTI5Niw3ICsyODIsMTAgQEAgcnVu
X251bWVyaWN0ZXN0cygpCiAKIAllY2hvIC1uICJXcml0aW5nIHN5c2N0bCB3aXRoIG11bHRpcGxl
IGxvbmcgd3JpdGVzIC4uLiAiCiAJc2V0X29yaWcKLQkocGVybCAtZSAncHJpbnQgIkEiIHggNTA7
JzsgZWNobyAiJHtURVNUX1NUUn0iKSB8IFwKKwkoCisJCXBlcmwgLWUgJ3ByaW50ICJBIiB4IDUw
OycKKwkJZWNobyAiJHtURVNUX1NUUn0iCisJKSB8CiAJCWRkIG9mPSIke1RBUkdFVH0iIGJzPTUw
IDI+L2Rldi9udWxsCiAJaWYgdmVyaWZ5ICIke1RBUkdFVH0iOyB0aGVuCiAJCWVjaG8gIkZBSUwi
ID4mMgpAQCAtMzA3LDEzICsyOTYsMTIgQEAgcnVuX251bWVyaWN0ZXN0cygpCiAJdGVzdF9yYwog
fQogCi1jaGVja19mYWlsdXJlKCkKLXsKK2NoZWNrX2ZhaWx1cmUoKSB7CiAJZWNobyAtbiAiVGVz
dGluZyB0aGF0ICQxIGZhaWxzIGFzIGV4cGVjdGVkLi4uIgogCXJlc2V0X3ZhbHMKIAlURVNUX1NU
Uj0iJDEiCiAJb3JpZz0iJChjYXQgJFRBUkdFVCkiCi0JZWNobyAtbiAiJFRFU1RfU1RSIiA+ICRU
QVJHRVQgMj4gL2Rldi9udWxsCisJZWNobyAtbiAiJFRFU1RfU1RSIiA+JFRBUkdFVCAyPi9kZXYv
bnVsbAogCiAJIyB3cml0ZSBzaG91bGQgZmFpbCBhbmQgJFRBUkdFVCBzaG91bGQgcmV0YWluIGl0
cyBvcmlnaW5hbCB2YWx1ZQogCWlmIFsgJD8gPSAwIF0gfHwgWyAiJChjYXQgJFRBUkdFVCkiICE9
ICIkb3JpZyIgXTsgdGhlbgpAQCAtMzI1LDggKzMxMyw3IEBAIGNoZWNrX2ZhaWx1cmUoKQogCXRl
c3RfcmMKIH0KIAotcnVuX3dpZGVpbnRfdGVzdHMoKQoteworcnVuX3dpZGVpbnRfdGVzdHMoKSB7
CiAJIyBzeXNjdGwgY29udmVyc2lvbiBmdW5jdGlvbnMgcmVjZWl2ZSBhIGJvb2xlYW4gc2lnbiBh
bmQgdWxvbmcKIAkjIG1hZ25pdHVkZTsgaGVyZSB3ZSBsaXN0IHRoZSBtYWduaXR1ZGVzIHdlIHdh
bnQgdG8gdGVzdCAoZWFjaCBvZgogCSMgd2hpY2ggd2lsbCBiZSB0ZXN0ZWQgaW4gYm90aCBwb3Np
dGl2ZSBhbmQgbmVnYXRpdmUgZm9ybXMpLiAgU2luY2UKQEAgLTM2MCwxNCArMzQ3LDE2IEBAIHJ1
bl93aWRlaW50X3Rlc3RzKCkKIH0KIAogIyBZb3VyIHRlc3QgbXVzdCBhY2NlcHQgZGlnaXRzIDMg
YW5kIDQgdG8gdXNlIHRoaXMKLXJ1bl9saW1pdF9kaWdpdCgpCi17CitydW5fbGltaXRfZGlnaXQo
KSB7CiAJZWNobyAtbiAiQ2hlY2tpbmcgaWdub3Jpbmcgc3BhY2VzIHVwIHRvIFBBR0VfU0laRSB3
b3JrcyBvbiB3cml0ZSAuLi4iCiAJcmVzZXRfdmFscwogCi0JTElNSVQ9JCgoTUFYX0RJR0lUUyAt
MSkpCisJTElNSVQ9JCgoTUFYX0RJR0lUUyAtIDEpKQogCVRFU1RfU1RSPSIzIgotCShwZXJsIC1l
ICdwcmludCAiICIgeCAnJExJTUlUJzsnOyBlY2hvICIke1RFU1RfU1RSfSIpIHwgXAorCSgKKwkJ
cGVybCAtZSAncHJpbnQgIiAiIHggJyRMSU1JVCc7JworCQllY2hvICIke1RFU1RfU1RSfSIKKwkp
IHwKIAkJZGQgb2Y9IiR7VEFSR0VUfSIgMj4vZGV2L251bGwKIAogCWlmICEgdmVyaWZ5ICIke1RB
UkdFVH0iOyB0aGVuCkBAIC0zODMsNyArMzcyLDEwIEBAIHJ1bl9saW1pdF9kaWdpdCgpCiAKIAlM
SU1JVD0kKChNQVhfRElHSVRTKSkKIAlURVNUX1NUUj0iNCIKLQkocGVybCAtZSAncHJpbnQgIiAi
IHggJyRMSU1JVCc7JzsgZWNobyAiJHtURVNUX1NUUn0iKSB8IFwKKwkoCisJCXBlcmwgLWUgJ3By
aW50ICIgIiB4ICckTElNSVQnOycKKwkJZWNobyAiJHtURVNUX1NUUn0iCisJKSB8CiAJCWRkIG9m
PSIke1RBUkdFVH0iIDI+L2Rldi9udWxsCiAKIAlpZiB2ZXJpZnkgIiR7VEFSR0VUfSI7IHRoZW4K
QEAgLTM5NiwxMiArMzg4LDExIEBAIHJ1bl9saW1pdF9kaWdpdCgpCiB9CiAKICMgWW91IGFyZSB1
c2luZyBhbiBpbnQKLXJ1bl9saW1pdF9kaWdpdF9pbnQoKQoteworcnVuX2xpbWl0X2RpZ2l0X2lu
dCgpIHsKIAllY2hvIC1uICJUZXN0aW5nIElOVF9NQVggd29ya3MgLi4uIgogCXJlc2V0X3ZhbHMK
IAlURVNUX1NUUj0iJElOVF9NQVgiCi0JZWNobyAtbiAkVEVTVF9TVFIgPiAkVEFSR0VUCisJZWNo
byAtbiAkVEVTVF9TVFIgPiRUQVJHRVQKIAogCWlmICEgdmVyaWZ5ICIke1RBUkdFVH0iOyB0aGVu
CiAJCWVjaG8gIkZBSUwiID4mMgpAQCAtNDE0LDcgKzQwNSw3IEBAIHJ1bl9saW1pdF9kaWdpdF9p
bnQoKQogCWVjaG8gLW4gIlRlc3RpbmcgSU5UX01BWCArIDEgd2lsbCBmYWlsIGFzIGV4cGVjdGVk
Li4uIgogCXJlc2V0X3ZhbHMKIAlsZXQgVEVTVF9TVFI9JElOVF9NQVgrMQotCWVjaG8gLW4gJFRF
U1RfU1RSID4gJFRBUkdFVCAyPiAvZGV2L251bGwKKwllY2hvIC1uICRURVNUX1NUUiA+JFRBUkdF
VCAyPi9kZXYvbnVsbAogCiAJaWYgdmVyaWZ5ICIke1RBUkdFVH0iOyB0aGVuCiAJCWVjaG8gIkZB
SUwiID4mMgpAQCAtNDI3LDcgKzQxOCw3IEBAIHJ1bl9saW1pdF9kaWdpdF9pbnQoKQogCWVjaG8g
LW4gIlRlc3RpbmcgbmVnYXRpdmUgdmFsdWVzIHdpbGwgd29yayBhcyBleHBlY3RlZC4uLiIKIAly
ZXNldF92YWxzCiAJVEVTVF9TVFI9Ii0zIgotCWVjaG8gLW4gJFRFU1RfU1RSID4gJFRBUkdFVCAy
PiAvZGV2L251bGwKKwllY2hvIC1uICRURVNUX1NUUiA+JFRBUkdFVCAyPi9kZXYvbnVsbAogCWlm
ICEgdmVyaWZ5ICIke1RBUkdFVH0iOyB0aGVuCiAJCWVjaG8gIkZBSUwiID4mMgogCQlyYz0xCkBA
IC00MzgsMTEgKzQyOSwxMCBAQCBydW5fbGltaXRfZGlnaXRfaW50KCkKIH0KIAogIyBZb3UgdXNl
ZCBhbiBpbnQgYXJyYXkKLXJ1bl9saW1pdF9kaWdpdF9pbnRfYXJyYXkoKQoteworcnVuX2xpbWl0
X2RpZ2l0X2ludF9hcnJheSgpIHsKIAllY2hvIC1uICJUZXN0aW5nIGFycmF5IHdvcmtzIGFzIGV4
cGVjdGVkIC4uLiAiCiAJVEVTVF9TVFI9IjQgMyAyIDEiCi0JZWNobyAtbiAkVEVTVF9TVFIgPiAk
VEFSR0VUCisJZWNobyAtbiAkVEVTVF9TVFIgPiRUQVJHRVQKIAogCWlmICEgdmVyaWZ5X2RpZmZf
dyAiJHtUQVJHRVR9IjsgdGhlbgogCQllY2hvICJGQUlMIiA+JjIKQEAgLTQ1Niw3ICs0NDYsNyBA
QCBydW5fbGltaXRfZGlnaXRfaW50X2FycmF5KCkKIAkjIERvIG5vdCByZXNldF92YWxzLCBjYXJy
eSBvbiB0aGUgdmFsdWVzIGZyb20gdGhlIGxhc3QgdGVzdC4KIAkjIElmIHdlIG9ubHkgZWNobyBp
biB0d28gZGlnaXRzIHRoZSBsYXN0IHR3byBhcmUgbGVmdCBpbnRhY3QKIAlURVNUX1NUUj0iMTAw
IDEwMSIKLQllY2hvIC1uICRURVNUX1NUUiA+ICRUQVJHRVQKKwllY2hvIC1uICRURVNUX1NUUiA+
JFRBUkdFVAogCSMgQWZ0ZXIgd2UgZWNobyBpbiwgdG8gaGVscCBkaWZmIHdlIG5lZWQgdG8gc2V0
IG9uIFRFU1RfU1RSIHdoYXQKIAkjIHdlIGV4cGVjdCB0aGUgcmVzdWx0IHRvIGJlLgogCVRFU1Rf
U1RSPSIxMDAgMTAxIDIgMSIKQEAgLTQ3Myw5ICs0NjMsMTIgQEAgcnVuX2xpbWl0X2RpZ2l0X2lu
dF9hcnJheSgpCiAJIyBEbyBub3QgcmVzZXRfdmFscywgY2Fycnkgb24gdGhlIHZhbHVlcyBmcm9t
IHRoZSBsYXN0IHRlc3QuCiAJIyBFdmVuIGlmIHlvdSB1c2UgYW4gaW50IGFycmF5LCB5b3UgYXJl
IHN0aWxsIHJlc3RyaWN0ZWQgdG8KIAkjIE1BWF9ESUdJVFMsIHRoaXMgaXMgYSBrbm93biBsaW1p
dGF0aW9uLiBUZXN0IGxpbWl0IHdvcmtzLgotCUxJTUlUPSQoKE1BWF9ESUdJVFMgLTEpKQorCUxJ
TUlUPSQoKE1BWF9ESUdJVFMgLSAxKSkKIAlURVNUX1NUUj0iOSIKLQkocGVybCAtZSAncHJpbnQg
IiAiIHggJyRMSU1JVCc7JzsgZWNobyAiJHtURVNUX1NUUn0iKSB8IFwKKwkoCisJCXBlcmwgLWUg
J3ByaW50ICIgIiB4ICckTElNSVQnOycKKwkJZWNobyAiJHtURVNUX1NUUn0iCisJKSB8CiAJCWRk
IG9mPSIke1RBUkdFVH0iIDI+L2Rldi9udWxsCiAKIAlURVNUX1NUUj0iOSAxMDEgMiAxIgpAQCAt
NDkyLDcgKzQ4NSwxMCBAQCBydW5fbGltaXRfZGlnaXRfaW50X2FycmF5KCkKIAkjIE5vdyBnbyBv
dmVyIGxpbWl0LgogCUxJTUlUPSQoKE1BWF9ESUdJVFMpKQogCVRFU1RfU1RSPSI3IgotCShwZXJs
IC1lICdwcmludCAiICIgeCAnJExJTUlUJzsnOyBlY2hvICIke1RFU1RfU1RSfSIpIHwgXAorCSgK
KwkJcGVybCAtZSAncHJpbnQgIiAiIHggJyRMSU1JVCc7JworCQllY2hvICIke1RFU1RfU1RSfSIK
KwkpIHwKIAkJZGQgb2Y9IiR7VEFSR0VUfSIgMj4vZGV2L251bGwKIAogCVRFU1RfU1RSPSI3IDEw
MSAyIDEiCkBAIC01MDYsMTIgKzUwMiwxMSBAQCBydW5fbGltaXRfZGlnaXRfaW50X2FycmF5KCkK
IH0KIAogIyBZb3UgYXJlIHVzaW5nIGFuIHVuc2lnbmVkIGludAotcnVuX2xpbWl0X2RpZ2l0X3Vp
bnQoKQoteworcnVuX2xpbWl0X2RpZ2l0X3VpbnQoKSB7CiAJZWNobyAtbiAiVGVzdGluZyBVSU5U
X01BWCB3b3JrcyAuLi4iCiAJcmVzZXRfdmFscwogCVRFU1RfU1RSPSIkVUlOVF9NQVgiCi0JZWNo
byAtbiAkVEVTVF9TVFIgPiAkVEFSR0VUCisJZWNobyAtbiAkVEVTVF9TVFIgPiRUQVJHRVQKIAog
CWlmICEgdmVyaWZ5ICIke1RBUkdFVH0iOyB0aGVuCiAJCWVjaG8gIkZBSUwiID4mMgpAQCAtNTIz
LDggKzUxOCw4IEBAIHJ1bl9saW1pdF9kaWdpdF91aW50KCkKIAogCWVjaG8gLW4gIlRlc3Rpbmcg
VUlOVF9NQVggKyAxIHdpbGwgZmFpbCBhcyBleHBlY3RlZC4uLiIKIAlyZXNldF92YWxzCi0JVEVT
VF9TVFI9JCgoJFVJTlRfTUFYKzEpKQotCWVjaG8gLW4gJFRFU1RfU1RSID4gJFRBUkdFVCAyPiAv
ZGV2L251bGwKKwlURVNUX1NUUj0kKCgkVUlOVF9NQVggKyAxKSkKKwllY2hvIC1uICRURVNUX1NU
UiA+JFRBUkdFVCAyPi9kZXYvbnVsbAogCiAJaWYgdmVyaWZ5ICIke1RBUkdFVH0iOyB0aGVuCiAJ
CWVjaG8gIkZBSUwiID4mMgpAQCAtNTM3LDcgKzUzMiw3IEBAIHJ1bl9saW1pdF9kaWdpdF91aW50
KCkKIAllY2hvIC1uICJUZXN0aW5nIG5lZ2F0aXZlIHZhbHVlcyB3aWxsIG5vdCB3b3JrIGFzIGV4
cGVjdGVkIC4uLiIKIAlyZXNldF92YWxzCiAJVEVTVF9TVFI9Ii0zIgotCWVjaG8gLW4gJFRFU1Rf
U1RSID4gJFRBUkdFVCAyPiAvZGV2L251bGwKKwllY2hvIC1uICRURVNUX1NUUiA+JFRBUkdFVCAy
Pi9kZXYvbnVsbAogCiAJaWYgdmVyaWZ5ICIke1RBUkdFVH0iOyB0aGVuCiAJCWVjaG8gIkZBSUwi
ID4mMgpAQCAtNTQ4LDggKzU0Myw3IEBAIHJ1bl9saW1pdF9kaWdpdF91aW50KCkKIAl0ZXN0X3Jj
CiB9CiAKLXJ1bl9zdHJpbmd0ZXN0cygpCi17CitydW5fc3RyaW5ndGVzdHMoKSB7CiAJZWNobyAt
biAiV3JpdGluZyBlbnRpcmUgc3lzY3RsIGluIHNob3J0IHdyaXRlcyAuLi4gIgogCXNldF9vcmln
CiAJZGQgaWY9IiR7VEVTVF9GSUxFfSIgb2Y9IiR7VEFSR0VUfSIgYnM9MSAyPi9kZXYvbnVsbApA
QCAtNTcyLDcgKzU2Niw3IEBAIHJ1bl9zdHJpbmd0ZXN0cygpCiAKIAllY2hvIC1uICJDaGVja2lu
ZyBzeXNjdGwgbWF4bGVuIGlzIGF0IGxlYXN0ICRNQVhMRU4gLi4uICIKIAlzZXRfb3JpZwotCXBl
cmwgLWUgJ3ByaW50ICJBIiB4ICgnIiR7TUFYTEVOfSInLTIpLCAiQiI7JyB8IFwKKwlwZXJsIC1l
ICdwcmludCAiQSIgeCAoJyIke01BWExFTn0iJy0yKSwgIkIiOycgfAogCQlkZCBvZj0iJHtUQVJH
RVR9IiBicz0iJHtNQVhMRU59IiAyPi9kZXYvbnVsbAogCWlmICEgZ3JlcCAtcSBCICIke1RBUkdF
VH0iOyB0aGVuCiAJCWVjaG8gIkZBSUwiID4mMgpAQCAtNTgzLDggKzU3Nyw4IEBAIHJ1bl9zdHJp
bmd0ZXN0cygpCiAKIAllY2hvIC1uICJDaGVja2luZyBzeXNjdGwga2VlcHMgb3JpZ2luYWwgc3Ry
aW5nIG9uIG92ZXJmbG93IGFwcGVuZCAuLi4gIgogCXNldF9vcmlnCi0JcGVybCAtZSAncHJpbnQg
IkEiIHggKCciJHtNQVhMRU59IictMSksICJCIjsnIHwgXAotCQlkZCBvZj0iJHtUQVJHRVR9IiBi
cz0kKCggTUFYTEVOIC0gMSApKSAyPi9kZXYvbnVsbAorCXBlcmwgLWUgJ3ByaW50ICJBIiB4ICgn
IiR7TUFYTEVOfSInLTEpLCAiQiI7JyB8CisJCWRkIG9mPSIke1RBUkdFVH0iIGJzPSQoKE1BWExF
TiAtIDEpKSAyPi9kZXYvbnVsbAogCWlmIGdyZXAgLXEgQiAiJHtUQVJHRVR9IjsgdGhlbgogCQll
Y2hvICJGQUlMIiA+JjIKIAkJcmM9MQpAQCAtNTk0LDcgKzU4OCw3IEBAIHJ1bl9zdHJpbmd0ZXN0
cygpCiAKIAllY2hvIC1uICJDaGVja2luZyBzeXNjdGwgc3RheXMgTlVMTCB0ZXJtaW5hdGVkIG9u
IHdyaXRlIC4uLiAiCiAJc2V0X29yaWcKLQlwZXJsIC1lICdwcmludCAiQSIgeCAoJyIke01BWExF
Tn0iJy0xKSwgIkIiOycgfCBcCisJcGVybCAtZSAncHJpbnQgIkEiIHggKCciJHtNQVhMRU59Iict
MSksICJCIjsnIHwKIAkJZGQgb2Y9IiR7VEFSR0VUfSIgYnM9IiR7TUFYTEVOfSIgMj4vZGV2L251
bGwKIAlpZiBncmVwIC1xIEIgIiR7VEFSR0VUfSI7IHRoZW4KIAkJZWNobyAiRkFJTCIgPiYyCkBA
IC02MDUsOCArNTk5LDggQEAgcnVuX3N0cmluZ3Rlc3RzKCkKIAogCWVjaG8gLW4gIkNoZWNraW5n
IHN5c2N0bCBzdGF5cyBOVUxMIHRlcm1pbmF0ZWQgb24gb3ZlcndyaXRlIC4uLiAiCiAJc2V0X29y
aWcKLQlwZXJsIC1lICdwcmludCAiQSIgeCAoJyIke01BWExFTn0iJy0xKSwgIkJCIjsnIHwgXAot
CQlkZCBvZj0iJHtUQVJHRVR9IiBicz0kKCggJE1BWExFTiArIDEgKSkgMj4vZGV2L251bGwKKwlw
ZXJsIC1lICdwcmludCAiQSIgeCAoJyIke01BWExFTn0iJy0xKSwgIkJCIjsnIHwKKwkJZGQgb2Y9
IiR7VEFSR0VUfSIgYnM9JCgoJE1BWExFTiArIDEpKSAyPi9kZXYvbnVsbAogCWlmIGdyZXAgLXEg
QiAiJHtUQVJHRVR9IjsgdGhlbgogCQllY2hvICJGQUlMIiA+JjIKIAkJcmM9MQpAQCAtNjE3LDEy
ICs2MTEsMTEgQEAgcnVuX3N0cmluZ3Rlc3RzKCkKIAl0ZXN0X3JjCiB9CiAKLXRhcmdldF9leGlz
dHMoKQotewordGFyZ2V0X2V4aXN0cygpIHsKIAlUQVJHRVQ9IiR7U1lTQ1RMfS8kMSIKIAlURVNU
X0lEPSIkMiIKIAotCWlmIFsgISAtZiAke1RBUkdFVH0gXSA7IHRoZW4KKwlpZiBbICEgLWYgJHtU
QVJHRVR9IF07IHRoZW4KIAkJZWNobyAiVGFyZ2V0IGZvciB0ZXN0ICRURVNUX0lEOiAkVEFSR0VU
IG5vdCBleGlzdCwgc2tpcHBpbmcgdGVzdCAuLi4iCiAJCXJldHVybiAwCiAJZmkKQEAgLTY1OSw5
ICs2NTIsOSBAQCBydW5fYml0bWFwdGVzdCgpIHsKIAogCWVjaG8gLW4gIkNoZWNraW5nIGJpdG1h
cCBoYW5kbGVyLi4uICIKIAlURVNUX0ZJTEU9JChta3RlbXApCi0JZWNobyAtbiAiJFRFU1RfU1RS
IiA+ICRURVNUX0ZJTEUKKwllY2hvIC1uICIkVEVTVF9TVFIiID4kVEVTVF9GSUxFCiAKLQljYXQg
JFRFU1RfRklMRSA+ICRUQVJHRVQgMj4gL2Rldi9udWxsCisJY2F0ICRURVNUX0ZJTEUgPiRUQVJH
RVQgMj4vZGV2L251bGwKIAlpZiBbICQ/IC1uZSAwIF07IHRoZW4KIAkJZWNobyAiRkFJTCIgPiYy
CiAJCXJjPTEKQEAgLTY3OCwyMCArNjcxLDE4IEBAIHJ1bl9iaXRtYXB0ZXN0KCkgewogCXRlc3Rf
cmMKIH0KIAotc3lzY3RsX3Rlc3RfMDAwMSgpCi17CitzeXNjdGxfdGVzdF8wMDAxKCkgewogCVRB
UkdFVD0iJHtTWVNDVEx9LyQoZ2V0X3Rlc3RfdGFyZ2V0IDAwMDEpIgogCXJlc2V0X3ZhbHMKIAlP
UklHPSQoY2F0ICIke1RBUkdFVH0iKQotCVRFU1RfU1RSPSQoKCAkT1JJRyArIDEgKSkKKwlURVNU
X1NUUj0kKCgkT1JJRyArIDEpKQogCiAJcnVuX251bWVyaWN0ZXN0cwogCXJ1bl93aWRlaW50X3Rl
c3RzCiAJcnVuX2xpbWl0X2RpZ2l0CiB9CiAKLXN5c2N0bF90ZXN0XzAwMDIoKQoteworc3lzY3Rs
X3Rlc3RfMDAwMigpIHsKIAlUQVJHRVQ9IiR7U1lTQ1RMfS8kKGdldF90ZXN0X3RhcmdldCAwMDAy
KSIKIAlyZXNldF92YWxzCiAJT1JJRz0kKGNhdCAiJHtUQVJHRVR9IikKQEAgLTcwMywxMiArNjk0
LDExIEBAIHN5c2N0bF90ZXN0XzAwMDIoKQogCXJ1bl9zdHJpbmd0ZXN0cwogfQogCi1zeXNjdGxf
dGVzdF8wMDAzKCkKLXsKK3N5c2N0bF90ZXN0XzAwMDMoKSB7CiAJVEFSR0VUPSIke1NZU0NUTH0v
JChnZXRfdGVzdF90YXJnZXQgMDAwMykiCiAJcmVzZXRfdmFscwogCU9SSUc9JChjYXQgIiR7VEFS
R0VUfSIpCi0JVEVTVF9TVFI9JCgoICRPUklHICsgMSApKQorCVRFU1RfU1RSPSQoKCRPUklHICsg
MSkpCiAKIAlydW5fbnVtZXJpY3Rlc3RzCiAJcnVuX3dpZGVpbnRfdGVzdHMKQEAgLTcxNiwxMiAr
NzA2LDExIEBAIHN5c2N0bF90ZXN0XzAwMDMoKQogCXJ1bl9saW1pdF9kaWdpdF9pbnQKIH0KIAot
c3lzY3RsX3Rlc3RfMDAwNCgpCi17CitzeXNjdGxfdGVzdF8wMDA0KCkgewogCVRBUkdFVD0iJHtT
WVNDVEx9LyQoZ2V0X3Rlc3RfdGFyZ2V0IDAwMDQpIgogCXJlc2V0X3ZhbHMKIAlPUklHPSQoY2F0
ICIke1RBUkdFVH0iKQotCVRFU1RfU1RSPSQoKCAkT1JJRyArIDEgKSkKKwlURVNUX1NUUj0kKCgk
T1JJRyArIDEpKQogCiAJcnVuX251bWVyaWN0ZXN0cwogCXJ1bl93aWRlaW50X3Rlc3RzCkBAIC03
MjksOCArNzE4LDcgQEAgc3lzY3RsX3Rlc3RfMDAwNCgpCiAJcnVuX2xpbWl0X2RpZ2l0X3VpbnQK
IH0KIAotc3lzY3RsX3Rlc3RfMDAwNSgpCi17CitzeXNjdGxfdGVzdF8wMDA1KCkgewogCVRBUkdF
VD0iJHtTWVNDVEx9LyQoZ2V0X3Rlc3RfdGFyZ2V0IDAwMDUpIgogCXJlc2V0X3ZhbHMKIAlPUklH
PSQoY2F0ICIke1RBUkdFVH0iKQpAQCAtNzM4LDE2ICs3MjYsMTQgQEAgc3lzY3RsX3Rlc3RfMDAw
NSgpCiAJcnVuX2xpbWl0X2RpZ2l0X2ludF9hcnJheQogfQogCi1zeXNjdGxfdGVzdF8wMDA2KCkK
LXsKK3N5c2N0bF90ZXN0XzAwMDYoKSB7CiAJVEFSR0VUPSIke1NZU0NUTH0vYml0bWFwXzAwMDEi
CiAJcmVzZXRfdmFscwogCU9SSUc9IiIKIAlydW5fYml0bWFwdGVzdAogfQogCi1zeXNjdGxfdGVz
dF8wMDA3KCkKLXsKK3N5c2N0bF90ZXN0XzAwMDcoKSB7CiAJVEFSR0VUPSIke1NZU0NUTH0vYm9v
dF9pbnQiCiAJaWYgWyAhIC1mICRUQVJHRVQgXTsgdGhlbgogCQllY2hvICJTa2lwcGluZyB0ZXN0
IGZvciAkVEFSR0VUIGFzIGl0IGlzIG5vdCBwcmVzZW50IC4uLiIKQEAgLTc4Niw4ICs3NzIsNyBA
QCBzeXNjdGxfdGVzdF8wMDA3KCkKIAlyZXR1cm4gJGtzZnRfc2tpcAogfQogCi1zeXNjdGxfdGVz
dF8wMDA4KCkKLXsKK3N5c2N0bF90ZXN0XzAwMDgoKSB7CiAJVEFSR0VUPSIke1NZU0NUTH0vbWF0
Y2hfaW50IgogCWlmIFsgISAtZiAkVEFSR0VUIF07IHRoZW4KIAkJZWNobyAiU2tpcHBpbmcgdGVz
dCBmb3IgJFRBUkdFVCBhcyBpdCBpcyBub3QgcHJlc2VudCAuLi4iCkBAIC04MDcsOCArNzkyLDcg
QEAgc3lzY3RsX3Rlc3RfMDAwOCgpCiAJcmV0dXJuIDAKIH0KIAotbGlzdF90ZXN0cygpCi17Cits
aXN0X3Rlc3RzKCkgewogCWVjaG8gIlRlc3QgSUQgbGlzdDoiCiAJZWNobwogCWVjaG8gIlRFU1Rf
SUQgeCBOVU1fVEVTVCIKQEAgLTgyNSw4ICs4MDksNyBAQCBsaXN0X3Rlc3RzKCkKIAllY2hvICIw
MDA4IHggJChnZXRfdGVzdF9jb3VudCAwMDA4KSAtIHRlc3RzIHN5c2N0bCBtYWNybyB2YWx1ZXMg
bWF0Y2giCiB9CiAKLXVzYWdlKCkKLXsKK3VzYWdlKCkgewogCU5VTV9URVNUUz0kKGdyZXAgLW8g
JyAnIDw8PCIkQUxMX1RFU1RTIiB8IGdyZXAgLWMgLikKIAlsZXQgTlVNX1RFU1RTPSROVU1fVEVT
VFMrMQogCU1BWF9URVNUPSQocHJpbnRmICIlMDRkXG4iICROVU1fVEVTVFMpCkBAIC04NjAsMzgg
Kzg0MywzMyBAQCB1c2FnZSgpCiAJZXhpdCAxCiB9CiAKLWZ1bmN0aW9uIHRlc3RfbnVtKCkKLXsK
K2Z1bmN0aW9uIHRlc3RfbnVtKCkgewogCXJlPSdeWzAtOV0rJCcKIAlpZiAhIFtbICQxID1+ICRy
ZSBdXTsgdGhlbgogCQl1c2FnZQogCWZpCiB9CiAKLWZ1bmN0aW9uIGdldF90ZXN0X2NvdW50KCkK
LXsKK2Z1bmN0aW9uIGdldF90ZXN0X2NvdW50KCkgewogCXRlc3RfbnVtICQxCiAJVEVTVF9EQVRB
PSQoZWNobyAkQUxMX1RFU1RTIHwgYXdrICd7cHJpbnQgJCckMSd9JykKIAllY2hvICR7VEVTVF9E
QVRBfSB8IGF3ayAtRiI6IiAne3ByaW50ICQyfScKIH0KIAotZnVuY3Rpb24gZ2V0X3Rlc3RfZW5h
YmxlZCgpCi17CitmdW5jdGlvbiBnZXRfdGVzdF9lbmFibGVkKCkgewogCXRlc3RfbnVtICQxCiAJ
VEVTVF9EQVRBPSQoZWNobyAkQUxMX1RFU1RTIHwgYXdrICd7cHJpbnQgJCckMSd9JykKIAllY2hv
ICR7VEVTVF9EQVRBfSB8IGF3ayAtRiI6IiAne3ByaW50ICQzfScKIH0KIAotZnVuY3Rpb24gZ2V0
X3Rlc3RfdGFyZ2V0KCkKLXsKK2Z1bmN0aW9uIGdldF90ZXN0X3RhcmdldCgpIHsKIAl0ZXN0X251
bSAkMQogCVRFU1RfREFUQT0kKGVjaG8gJEFMTF9URVNUUyB8IGF3ayAne3ByaW50ICQnJDEnfScp
CiAJZWNobyAke1RFU1RfREFUQX0gfCBhd2sgLUYiOiIgJ3twcmludCAkNH0nCiB9CiAKLWZ1bmN0
aW9uIHJ1bl9hbGxfdGVzdHMoKQotewotCWZvciBpIGluICRBTExfVEVTVFMgOyBkbworZnVuY3Rp
b24gcnVuX2FsbF90ZXN0cygpIHsKKwlmb3IgaSBpbiAkQUxMX1RFU1RTOyBkbwogCQlURVNUX0lE
PSR7aSU6KjoqOip9CiAJCUVOQUJMRUQ9JChnZXRfdGVzdF9lbmFibGVkICRURVNUX0lEKQogCQlU
RVNUX0NPVU5UPSQoZ2V0X3Rlc3RfY291bnQgJFRFU1RfSUQpCkBAIC05MDUsOCArODgzLDcgQEAg
ZnVuY3Rpb24gcnVuX2FsbF90ZXN0cygpCiAJZG9uZQogfQogCi1mdW5jdGlvbiB3YXRjaF9sb2co
KQoteworZnVuY3Rpb24gd2F0Y2hfbG9nKCkgewogCWlmIFsgJCMgLW5lIDMgXTsgdGhlbgogCQlj
bGVhcgogCWZpCkBAIC05MTQsOCArODkxLDcgQEAgZnVuY3Rpb24gd2F0Y2hfbG9nKCkKIAllY2hv
ICJSdW5uaW5nIHRlc3Q6ICQyIC0gcnVuICMkMSIKIH0KIAotZnVuY3Rpb24gd2F0Y2hfY2FzZSgp
Ci17CitmdW5jdGlvbiB3YXRjaF9jYXNlKCkgewogCWk9MAogCXdoaWxlIFsgMSBdOyBkbwogCkBA
IC05MzEsOCArOTA3LDcgQEAgZnVuY3Rpb24gd2F0Y2hfY2FzZSgpCiAJZG9uZQogfQogCi1mdW5j
dGlvbiB0ZXN0X2Nhc2UoKQoteworZnVuY3Rpb24gdGVzdF9jYXNlKCkgewogCU5VTV9URVNUUz0k
MgogCiAJaT0wCkBAIC05NTAsOCArOTI1LDcgQEAgZnVuY3Rpb24gdGVzdF9jYXNlKCkKIAlkb25l
CiB9CiAKLWZ1bmN0aW9uIHBhcnNlX2FyZ3MoKQoteworZnVuY3Rpb24gcGFyc2VfYXJncygpIHsK
IAlpZiBbICQjIC1lcSAwIF07IHRoZW4KIAkJcnVuX2FsbF90ZXN0cwogCWVsc2UKLS0gCjIuMzQu
MQoK
--000000000000ec55f906336df13d--

